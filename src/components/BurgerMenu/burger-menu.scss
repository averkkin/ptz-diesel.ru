@use '../../styles/helpers' as *;

.burger-menu {
  width: rem(50);
  height: rem(40);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  cursor: pointer;

  & span {
    width: 100%;
    height: 3px;
    border-radius: 10px;
    background-color: var(--color-white);
  }

  @include tablet-above {
    display: none;
  }
}

// 1. БЛОКИРОВКА СКРОЛЛА
body.no-scroll {
  overflow: hidden;
}

// 2. СТИЛИ БУРГЕРА
.burger-menu {
  width: rem(50);
  height: rem(40);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  cursor: pointer;

  position: relative;
  z-index: 101;

  & span {
    transition: all 0.3s ease-in-out;
  }

  // СОСТОЯНИЕ "КРЕСТИК"
  &.is-active {
    span:nth-child(1) {
      // Смещаем вниз на половину высоты кнопки и крутим
      // 40px / 2 = 20px, минус пол-толщины линии
      transform: translateY(rem(19)) rotate(45deg);
    }
    span:nth-child(2) {
      opacity: 0;
      transform: scale(0);
    }
    span:nth-child(3) {
      // Смещаем вверх и крутим
      transform: translateY(rem(-19)) rotate(-45deg);
    }
  }

  @include tablet-above {
    display: none;
  }
}

// 3. ЗАТЕМНЕНИЕ (OVERLAY)
.mobile-overlay {
  position: fixed;
  inset: 0; // На весь экран
  background-color: rgba(0, 0, 0, 0.7);
  z-index: 99; // Ниже меню (100) и кнопки (101)

  // Скрыто по умолчанию
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;

  // Показываем при активном классе
  &.is-open {
    opacity: 1;
    visibility: visible;
  }
}

// 4. ВЫЕЗЖАЮЩЕЕ МЕНЮ
.mobile-menu {
  position: fixed;
  top: 0;
  right: 0; // Выезжает справа
  width: 80%;
  height: 100dvh;
  background-color: var(--color-black);
  z-index: 100;
  padding: rem(60) rem(20) rem(20);

  // Скрыто за пределами экрана
  transform: translateX(100%);
  transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1); // Плавный выезд

  &.is-open {
    transform: translateX(0);
  }

  &__list {
    display: flex;
    flex-direction: column;
    gap: rem(20);

    a {
      font-size: rem(24);
      font-weight: 500;
      color: var(--color-white);
      text-decoration: none;
    }
  }
}